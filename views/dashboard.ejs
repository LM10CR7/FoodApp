<!DOCTYPE html>
<html>
<head>
    <title>Restaurant List</title>
    <link rel="stylesheet" href="dashboard.css">
    <!-- Add your CSS stylesheets and JavaScript files here -->
    <style>
        /* Style for the logout button container */
        .logout-container {
            position: absolute;
            top: 10px;
            right: 10px;
        }

        /* Style for the logout button */
        .logout-button {
            background-color: #f15a24;
            color: #fff;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <!-- Logout button container -->
    <div class="logout-container">
        <button class="logout-button" onclick="logout()">Logout</button>
        <button class="logout-button" onclick="viewHistory()">Order History</button>
    </div>
    <h1>Restaurant Search</h1>
    
    <input type="text" id="searchInput" onkeyup="showSuggestions()" placeholder="Search for a restaurant...">
    
    <ul id="suggestionList"></ul>

    <h1>Available Restaurants</h1>
        <!-- Restaurant List -->
        <% for (var i = 0; i < students.length; i++) { %>
            <ul>
                <li>
                    <a href="/menu?name=<%= students[i][1] %>&id=<%= students[i][0] %>"><%- students[i][1] %> </a>
                </li>
                
                <!-- Add more restaurant entries as needed -->
            </ul>
        <% } %>
    <!-- JavaScript for interactions -->
    <script>
        // Access the students array from the server-side rendering
        const students = <%- JSON.stringify(students) %>;

        // JavaScript function for logout action
        function logout() {
            // Add your logout logic here
            // alert("Logout successful"); // Replace with actual logout code
            window.location.href = '/userLogin';
        }
        
        // Renamed history() function to viewHistory() to avoid conflicts
        function viewHistory() {
            // Add your logic for viewing order history here
            window.location.href = '/orderHistory';
        }

        function showSuggestions() {
            const input = document.getElementById('searchInput').value.toLowerCase();
            const suggestionList = document.getElementById('suggestionList');
            suggestionList.innerHTML = '';

            students.forEach((restaurant) => {
                const name = restaurant[1].toLowerCase();
                if (name.includes(input)) {
                    const li = document.createElement('li');
                    // Create an anchor link
                    const link = document.createElement('a');
                    link.textContent = restaurant[1];
                    link.href = `/menu?name=${encodeURIComponent(restaurant[1])}&id=${restaurant[0]}`;
                    
                    // Append the anchor link to the list item
                    li.appendChild(link);

                    suggestionList.appendChild(li);
                }
            });
        }

    </script>
</body>
</html>
